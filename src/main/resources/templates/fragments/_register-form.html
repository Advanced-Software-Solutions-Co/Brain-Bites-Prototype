<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      >
<head>
  <title>Register Form Fragment</title>
</head>
<body>
  <form th:fragment="register-form" role="form" th:action="@{/register/save}" th:object="${user}" method="post">
    <div th:if="${param.auth_fail}" class="alert alert-danger">Username or email already exists</div>
    <div th:if="${param.match_fail}" class="alert alert-danger">Passwords do not match</div>
    <div class="container">
      <!-- Form header -->
      <header class="row mb-1">
        <div class="col text-center m-3">
          <h2>Sign up</h2>
          <p class="faded">Join millions of other students in maximizing your study potential today!</p>
        </div>
      </header>

      <!-- Entering user info -->
      <div class="row mb-2">

        <div class="col m-2">
          <!-- First & last names -->
          <div class="mb-3">
            <div class="row">
              <div class="col">
                <label class="form-label" for="first-name">First name</label>
                <input
                        class="form-control"
                        name="firstName"
                        type="text"
                        placeholder="Leeroy"
                        id="first-name"
                        aria-label="First name"
                        th:field="*{firstName}">
              </div>
              <div class="col">
                <label class="form-label" for="last-name">Last name</label>
                <input
                        class="form-control"
                        name="lastName"
                        type="text"
                        placeholder="Jenkins"
                        id="last-name"
                        aria-label="Last name"
                        th:field="*{lastName}">
              </div>
            </div>
          </div>
          <p th:if="${#fields.hasErrors('firstName')}" class="text-danger"></p>
          <p th:if="${#fields.hasErrors('lastName')}" class="text-danger"></p>

          <!-- Username -->
          <div class="mb-3">
            <label class="form-label" for="username">Username</label>
            <input
                    class="form-control"
                    name="username"
                    type="text"
                    placeholder="leeroy_jenkins"
                    id="username"
                    aria-label="Username"
                    th:field="*{username}">
          </div>
          <p th:if="${#fields.hasErrors('username')}" class="text-danger"></p>

          <!-- Email address -->
          <div class="mb-3">
            <label class="form-label" for="email">Email address</label>
            <input
                    class="form-control"
                    name="email"
                    type="email"
                    placeholder="leroy.jenkins@example.com"
                    id="email"
                    aria-label="Email"
                    th:field="*{email}">
          </div>
          <p th:if="${#fields.hasErrors('email')}" class="text-danger"></p>

          <!-- Password & password confirmation -->
          <div class="mb-3">
            <label class="form-label" for="password">Password</label>
            <input
                    class="form-control"
                    name="password"
                    type="password"
                    placeholder="supersecure123"
                    id="password"
                    aria-label="Password"
                    th:field="*{password}">
          </div>
          <div class="mb-3">
            <label class="form-label" for="password-confirm">Confirm password</label>
            <input
                    class="form-control"
                    name="passwordConfirm"
                    type="password"
                    placeholder="supersecure123"
                    id="password-confirm"
                    aria-label="Confirm password"
                    th:field="*{passwordConfirm}">
          </div>
          <p th:if="${#fields.hasErrors('password')}" class="text-danger"></p>
          <p th:if="${#fields.hasErrors('passwordConfirm')}" class="text-danger"></p>
        </div>
      </div>

      <!-- Form submission -->
      <div class="row text-center mb-3">
        <div class="col d-flex flex-column justify-content-evenly mb-3">
          <button class="form-button mb-2" type="submit">Register</button>
          <a th:href="@{/login}">Already have an account?</a>
        </div>
      </div>
    </div>
  </form>
</body>
</html>